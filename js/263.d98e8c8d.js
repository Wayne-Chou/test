"use strict";(self["webpackChunkshopping_test"]=self["webpackChunkshopping_test"]||[]).push([[263],{263:function(e,s,r){r.r(s),r.d(s,{default:function(){return K}});var a=r(3396),o=r(9242),l=r(7139);const t=e=>((0,a.dD)("data-v-4973efe2"),e=e(),(0,a.Cn)(),e),d={class:"panel-group container"},i=(0,a.uE)('<input type="radio" name="panel-radio" id="radio1" class="panel-control" checked data-v-4973efe2><input type="radio" name="panel-radio" id="radio2" class="panel-control" data-v-4973efe2><div class="tab-group" data-v-4973efe2><label for="radio1" class="active" data-v-4973efe2>登入</label><label for="radio2" data-v-4973efe2>註冊</label></div>',3),n={class:"content-group"},u={class:"content content1"},h={class:"box"},p=t((()=>(0,a._)("label",{for:"user_name"},"信箱",-1))),c=t((()=>(0,a._)("br",null,null,-1))),m=t((()=>(0,a._)("label",{for:"password"},"密碼",-1))),w=t((()=>(0,a._)("br",null,null,-1))),_={class:"content content2"},b={class:"box"},f=t((()=>(0,a._)("label",{for:"username"},"信箱",-1))),k={key:0,class:"error-message"},v=t((()=>(0,a._)("br",null,null,-1))),g=t((()=>(0,a._)("label",{for:"r_password"},"密碼",-1))),y={key:1,class:"error-message"},q=t((()=>(0,a._)("br",null,null,-1))),S=t((()=>(0,a._)("label",{for:"check_password"},"確認密碼",-1))),D={key:2,class:"error-message"},x=t((()=>(0,a._)("br",null,null,-1))),U=t((()=>(0,a._)("label",{for:"phone"},"手機號碼",-1))),V={key:3,class:"error-message"},$=t((()=>(0,a._)("br",null,null,-1))),z=t((()=>(0,a._)("label",{for:"address"},"地址",-1))),T={key:4,class:"error-message"},C=t((()=>(0,a._)("br",null,null,-1))),I={key:0,class:"error modal_box"},Z=t((()=>(0,a._)("div",{class:"modal"},[(0,a._)("div",{class:"modal_header"},[(0,a._)("h5",{class:"modal_title"},"帳號密碼不能為空")])],-1))),j=[Z],A={key:1,class:"success modal_box"},E=t((()=>(0,a._)("div",{class:"modal"},[(0,a._)("div",{class:"modal_header"},[(0,a._)("h5",{class:"modal_title"},"登入成功!")])],-1))),H=[E],M={key:2,class:"fail modal_box"},O=t((()=>(0,a._)("div",{class:"modal"},[(0,a._)("div",{class:"modal_header"},[(0,a._)("h5",{class:"modal_title"},"登入失敗")])],-1))),Y=[O];function B(e,s,r,t,Z,E){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",d,[i,(0,a._)("div",n,[(0,a._)("div",u,[(0,a._)("div",h,[p,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>Z.username=e),type:"email",id:"user_name",name:"username",required:""},null,512),[[o.nr,Z.username]]),c,m,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>Z.password=e),type:"password",id:"password",name:"password",required:""},null,512),[[o.nr,Z.password]]),w,(0,a._)("button",{onClick:s[2]||(s[2]=(...e)=>E.login&&E.login(...e)),class:"login"},"登入")])]),(0,a._)("div",_,[(0,a._)("div",b,[f,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>Z.username=e),type:"email",id:"username",name:"username",required:""},null,512),[[o.nr,Z.username]]),Z.errors.username?((0,a.wg)(),(0,a.iD)("div",k,(0,l.zw)(Z.errors.username),1)):(0,a.kq)("",!0),v,g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>Z.password=e),type:"password",id:"r_password",name:"password",required:""},null,512),[[o.nr,Z.password]]),Z.errors.password?((0,a.wg)(),(0,a.iD)("div",y,(0,l.zw)(Z.errors.password),1)):(0,a.kq)("",!0),q,S,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>Z.check_password=e),type:"password",id:"check_password",name:"password",required:""},null,512),[[o.nr,Z.check_password]]),Z.errors.check_password?((0,a.wg)(),(0,a.iD)("div",D,(0,l.zw)(Z.errors.check_password),1)):(0,a.kq)("",!0),x,U,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>Z.phone=e),type:"text",id:"phone",name:"phone",required:""},null,512),[[o.nr,Z.phone]]),Z.errors.phone?((0,a.wg)(),(0,a.iD)("div",V,(0,l.zw)(Z.errors.phone),1)):(0,a.kq)("",!0),$,z,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>Z.address=e),type:"text",id:"address",name:"address",required:""},null,512),[[o.nr,Z.address]]),Z.errors.address?((0,a.wg)(),(0,a.iD)("div",T,(0,l.zw)(Z.errors.address),1)):(0,a.kq)("",!0),C,(0,a._)("button",{onClick:s[8]||(s[8]=(...e)=>E.register&&E.register(...e)),class:"register"},"註冊")])])])]),Z.errorShow?((0,a.wg)(),(0,a.iD)("div",I,j)):Z.successShow?((0,a.wg)(),(0,a.iD)("div",A,H)):Z.failShow?((0,a.wg)(),(0,a.iD)("div",M,Y)):(0,a.kq)("",!0)],64)}r(560);var F={data(){return{errorShow:!1,successShow:!1,failShow:!1,username:"",password:"",check_password:"",phone:"",address:"",member:[],errors:{}}},created(){this.$axios.get("http://localhost:3000/member/").then((e=>{this.member=e.data}))},methods:{register(){if(this.errors={},this.username.match(/^[A-Za-z\u4e00-\u9fa5]+$/)?this.errors.username="不能為空":this.errors.username="姓名只能包含中英文字符",/^\d{10}$/.test.phone?this.errors.phone="不能為空":this.errors.phone="手機號碼必須是10位數",this.password!==this.check_password?(this.errors.password="密碼不一致",this.errors.check_password="密碼不一致"):(this.errors.password="不能為空",this.errors.check_password="不能為空"),""===this.address&&(this.errors.address="地址不能為空"),0===Object.keys(this.errors).length){let e={username:this.username,password:this.password,check_password:this.check_password,phone:this.phone,address:this.address};this.$axios.post("http://localhost:3000/member/",e).then((()=>{this.$store.commit("setUserInfo",e)}))}},login(){if(""===this.username&&""===this.password)setTimeout((()=>{this.errorShow=!0}),1e3),setTimeout((()=>{this.errorShow=!1}),5e3);else if(this.member.find((e=>e.username===this.username&&e.password===this.password))){let e=this.member.find((e=>e.username===this.username&&e.password===this.password));this.$store.commit("setUserInfo",e),setTimeout((()=>{this.successShow=!0,console.log(78)}),1e3),setTimeout((()=>{this.successShow=!1,this.$router.push({name:"Member"}),console.log(1651)}),5e3)}else setTimeout((()=>{this.failShow=!0}),1e3),setTimeout((()=>{this.failShow=!1}),5e3)}}},G=r(89);const J=(0,G.Z)(F,[["render",B],["__scopeId","data-v-4973efe2"]]);var K=J}}]);
//# sourceMappingURL=263.d98e8c8d.js.map