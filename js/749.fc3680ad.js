"use strict";(self["webpackChunkshopping_test"]=self["webpackChunkshopping_test"]||[]).push([[749],{7749:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var s=r(3396),o=r(7139);const i={key:0,class:"container"},n={key:1,class:"content container"},c={class:"item-img"},d=["src"],u={class:"item-title"},a={class:"item-number"},l={class:"item-cost"},m=["onClick"],p=["onClick"],h=["onClick"];function g(t,e,r,g,v,_){const k=(0,s.up)("RouterLink");return 0===_.carItems.length?((0,s.wg)(),(0,s.iD)("div",i,"您的購物車是空的")):((0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.carItems,((t,r)=>((0,s.wg)(),(0,s.iD)("div",{key:r},[(0,s._)("div",null,[(0,s._)("div",c,[(0,s._)("img",{src:t.product.img,alt:""},null,8,d)]),(0,s._)("div",u,(0,o.zw)(t.product.title),1),(0,s._)("div",a,(0,o.zw)(t.product.id),1),(0,s._)("div",l,(0,o.zw)(t.product.cost),1)]),(0,s._)("div",null,[(0,s._)("button",{onClick:e=>_.Increase(t)},"+",8,m),(0,s._)("button",{onClick:e=>_.reduce(t)},"-",8,p),(0,s._)("div",null,(0,o.zw)(t.number),1),(0,s._)("button",{onClick:e=>_.remover(t)},"刪除商品",8,h),(0,s._)("div",null,"购物车总金额: "+(0,o.zw)(_.carTotal),1),(0,s.Wm)(k,{to:"/Payment"},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>_.getOrders&&_.getOrders(...t))},"結帳")])),_:1})])])))),128))]))}var v={data(){return{}},computed:{loginedUserInfo(){return this.$store.getters.loginedUserInfo},carItems(){return this.$store.state.carItems},carTotal(){return this.$store.getters.totalCost}},methods:{getOrders(){let t=this.carItems.map((function(t){return t.product.id})),e={productNumber:t,userId:this.loginedUserInfo.id};this.$axios.post("https://my-json-server.typicode.com/Wayne-Chou/shopping/orders",e).then((()=>{this.getOrder()}))},getOrder(){this.$axios.get("https://my-json-server.typicode.com/Wayne-Chou/shopping/orders").then((t=>{this.orders=t.data.filter((t=>t.userId===this.loginedUserInfo.id))}))},Increase(t){this.$store.commit("addShoppingCar",t.product)},reduce(t){this.$store.commit("reduce",t.product)},remover(t){this.$store.commit("removeShoppingCar",t.product)}}},_=r(89);const k=(0,_.Z)(v,[["render",g],["__scopeId","data-v-35210d24"]]);var C=k}}]);
//# sourceMappingURL=749.fc3680ad.js.map