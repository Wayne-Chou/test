"use strict";(self["webpackChunkshopping_test"]=self["webpackChunkshopping_test"]||[]).push([[109],{8711:function(e,r,s){s.d(r,{Z:function(){return u}});var a=s(3396);const o={class:"items"},n={class:"item"},t={class:"item"};function d(e,r){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",n,[(0,a.Wm)(s,{to:"OrderView"},{default:(0,a.w5)((()=>[(0,a.Uk)("訂單查詢")])),_:1})]),(0,a._)("div",t,[(0,a.Wm)(s,{to:"Member"},{default:(0,a.w5)((()=>[(0,a.Uk)("會員資料")])),_:1})])])}var m=s(89);const l={},i=(0,m.Z)(l,[["render",d],["__scopeId","data-v-70d65ab8"]]);var u=i},6109:function(e,r,s){s.r(r),s.d(r,{default:function(){return z}});var a=s(3396),o=s(7139),n=s(9242);const t=e=>((0,a.dD)("data-v-71fca098"),e=e(),(0,a.Cn)(),e),d={class:"box"},m=t((()=>(0,a._)("label",{for:"user"},"姓名",-1))),l={key:0,class:"error-message"},i=t((()=>(0,a._)("br",null,null,-1))),u=t((()=>(0,a._)("label",{for:"address"},"地址",-1))),c={key:1,class:"error-message"},p=t((()=>(0,a._)("br",null,null,-1))),h=t((()=>(0,a._)("label",{for:"phone"},"手機號碼",-1))),w={key:2,class:"error-message"},b=t((()=>(0,a._)("br",null,null,-1))),_=t((()=>(0,a._)("label",{for:"password"},"密碼",-1))),f={key:3,class:"error-message"},k=t((()=>(0,a._)("br",null,null,-1))),g=t((()=>(0,a._)("label",{for:"confirmPassword"},"確認密碼",-1))),v={key:4,class:"error-message"};function y(e,r,s,t,y,q){const P=(0,a.up)("OrderEle");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(P),(0,a._)("div",d,[(0,a._)("h1",null,"會員資料"+(0,o.zw)(y.member.username),1),m,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>y.member.username=e),type:"text",id:"user",name:"user",required:""},null,512),[[n.nr,y.member.username]]),y.errors.username?((0,a.wg)(),(0,a.iD)("div",l,(0,o.zw)(y.errors.username),1)):(0,a.kq)("",!0),i,u,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>y.member.address=e),type:"text",id:"address",name:"address",required:""},null,512),[[n.nr,y.member.address]]),y.errors.address?((0,a.wg)(),(0,a.iD)("div",c,(0,o.zw)(y.errors.address),1)):(0,a.kq)("",!0),p,h,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>y.member.phone=e),type:"tel",id:"phone",name:"phone",required:""},null,512),[[n.nr,y.member.phone]]),y.errors.phone?((0,a.wg)(),(0,a.iD)("div",w,(0,o.zw)(y.errors.phone),1)):(0,a.kq)("",!0),b,_,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>y.member.password=e),type:"password",id:"password",name:"password",required:""},null,512),[[n.nr,y.member.password]]),y.errors.password?((0,a.wg)(),(0,a.iD)("div",f,(0,o.zw)(y.errors.password),1)):(0,a.kq)("",!0),k,g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[4]||(r[4]=e=>y.member.checkPassword=e),type:"password",id:"confirmPassword",name:"confirmPassword",required:""},null,512),[[n.nr,y.member.checkPassword]]),y.errors.checkPassword?((0,a.wg)(),(0,a.iD)("div",v,(0,o.zw)(y.errors.checkPassword),1)):(0,a.kq)("",!0),(0,a._)("button",{onClick:r[5]||(r[5]=e=>q.change(y.member.id)),class:"btn"},"確認修改")])],64)}var q=s(8711),P={data(){return{username:"",password:"",phone:"",checkPassword:"",address:"",member:{},errors:{}}},components:{OrderEle:q.Z},computed:{userInfo(){return this.$store.state.userInfo}},created(){this.member=this.userInfo},methods:{change(e){this.errors={},this.username.match(/^[A-Za-z\u4e00-\u9fa5]+$/)||(this.errors.name="姓名只能包含中英文字符"),/^\d{10}$/.test(this.member.phone)||(this.errors.phone="手機號碼必須是10位數"),this.password!==this.checkPassword&&(this.errors.password="密碼不一致",this.errors.checkPassword="密碼不一致");let r={username:this.member.username,phone:this.member.phone,address:this.member.address,password:this.member.password};this.$axios.patch("http://localhost:3000/member/"+e,r).then((()=>{this.$axios.get("http://localhost:3000/member/"+e).then((e=>{this.member=e.data,this.$store.commit("setUserInfo",e.data),console.log("member",e)}))}))}}},D=s(89);const U=(0,D.Z)(P,[["render",y],["__scopeId","data-v-71fca098"]]);var z=U}}]);
//# sourceMappingURL=109.a76a93ab.js.map