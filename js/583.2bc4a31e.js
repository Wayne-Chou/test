"use strict";(self["webpackChunkshopping_test"]=self["webpackChunkshopping_test"]||[]).push([[583],{3583:function(s,t,o){o.r(t),o.d(t,{default:function(){return k}});var i=o(3396),e=o(7139);const d=s=>((0,i.dD)("data-v-b2aeea3a"),s=s(),(0,i.Cn)(),s),r={class:"container"},c={class:"productsList"},n={class:"product_item"},a={class:"product_number"},p={class:"product_img"},h=["src"],u={class:"product_content"},l={class:"product_title"},f={class:"product_model"},_={class:"product_cost"},I={class:"product_price"},g={class:"shop_love"},v=d((()=>(0,i._)("i",{class:"fa-solid fa-cart-shopping"},null,-1))),m=[v],w=d((()=>(0,i._)("i",{class:"fa-regular fa-heart"},null,-1))),C=d((()=>(0,i._)("i",{class:"fa-solid fa-heart"},null,-1))),y=[w,C];function L(s,t,o,d,v,w){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",c,[(0,i._)("div",n,[(0,i._)("span",a,(0,e.zw)(v.productInfo.id),1),(0,i._)("div",p,[(0,i._)("img",{src:v.productInfo.img,alt:""},null,8,h)]),(0,i._)("div",u,[(0,i._)("h3",l,(0,e.zw)(v.productInfo.title),1),(0,i._)("p",f,(0,e.zw)(v.productInfo.model),1),(0,i._)("p",_,(0,e.zw)(v.productInfo.cost),1),(0,i._)("p",I,(0,e.zw)(v.productInfo.code),1),(0,i._)("div",g,[(0,i._)("div",{onClick:t[0]||(t[0]=s=>w.addToCart(v.productInfo)),class:"shpping_icon"},m),(0,i._)("div",{class:(0,e.C_)(["love_icon",{active:v.Isfav}]),onClick:t[1]||(t[1]=s=>w.addFavorite(v.productInfo))},y,2)])])])])])}var W={data(){return{productInfo:{},carItems:[],Isfav:!1}},computed:{productId(){return this.$route.params.id},loginedUserInfo(){return this.$store.getters.loginedUserInfo}},watch:{},created(){this.productInfoGetInfo(),this.getWishList()},methods:{productInfoGetInfo(){this.$axios.get("https://my-json-server.typicode.com/Wayne-Chou/shopping/products"+this.productId).then((s=>{this.productInfo=s.data}))},addToCart(s){const t=this.carItems.find((t=>t.product.id===s.id));t||this.$store.commit("addShoppingCar",s)},getWishList(){this.$axios.get("https://my-json-server.typicode.com/Wayne-Chou/shopping/wishList").then((s=>{this.wishList=s.data.filter((s=>s.userId===this.loginedUserInfo.id)),console.log("wishList",this.wishList)}))},addFavorite(s){if(this.Isfav=!this.Isfav,this.loginedUserInfo.id){const t=this.wishList.find((t=>t.productNumber===s.id));if(t)this.$axios.delete("https://my-json-server.typicode.com/Wayne-Chou/shopping/wishList"+t.id).then((()=>{this.getWishList()}));else{let t={productNumber:s.id,userId:this.loginedUserInfo.id};this.$axios.post("https://my-json-server.typicode.com/Wayne-Chou/shopping/wishList",t).then((()=>{this.getWishList()}))}}}}},b=o(89);const $=(0,b.Z)(W,[["render",L],["__scopeId","data-v-b2aeea3a"]]);var k=$}}]);
//# sourceMappingURL=583.2bc4a31e.js.map