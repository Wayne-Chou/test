{"version":3,"file":"js/487.190df136.js","mappings":"uQACOA,MAAM,a,UACTC,EAAAA,EAAAA,GAA4B,SAArBC,IAAI,QAAO,MAAE,K,SAEIF,MAAM,iB,UAC9BC,EAAAA,EAAAA,GAAM,qB,UAENA,EAAAA,EAAAA,GAA+B,SAAxBC,IAAI,SAAQ,QAAI,K,SAEEF,MAAM,iB,UAC/BC,EAAAA,EAAAA,GAAM,qB,UAEJA,EAAAA,EAAAA,GAA+B,UAAvBE,MAAM,IAAG,SAAK,K,qBAKQH,MAAM,iB,yBAKpCC,EAAAA,EAAAA,GAA+B,UAAvBE,MAAM,IAAG,SAAK,K,qBAKKH,MAAM,iB,0CA1BrCI,EAAAA,EAAAA,IA+BM,MA/BNC,EA+BM,CA9BJC,GAA4B,SAC5BL,EAAAA,EAAAA,GAA0D,S,qCAA1CM,EAAAC,KAAIC,GAAEC,KAAK,OAAOF,KAAK,OAAOG,GAAG,Q,iBAAjCJ,EAAAC,QACLD,EAAAK,OAAOJ,OAAI,WAAtBJ,EAAAA,EAAAA,IAAqE,MAArES,GAAqEC,EAAAA,EAAAA,IAApBP,EAAAK,OAAOJ,MAAI,oBAC5DO,EAEAC,GAA+B,SAC/Bf,EAAAA,EAAAA,GAAiE,S,qCAAjDM,EAAAU,MAAKR,GAAEC,KAAK,OAAOF,KAAK,YAAYG,GAAG,S,iBAAvCJ,EAAAU,SACLV,EAAAK,OAAOK,QAAK,WAAvBb,EAAAA,EAAAA,IAAuE,MAAvEc,GAAuEJ,EAAAA,EAAAA,IAArBP,EAAAK,OAAOK,OAAK,oBAC9DE,GAAM,SACNlB,EAAAA,EAAAA,GAKS,UALAmB,SAAMC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,YAAAD,EAAAC,cAAAF,IAAYX,GAAG,OAAOH,KAAK,OAAOiB,SAAA,G,qCAAkBlB,EAAAmB,aAAYjB,I,CAC/EkB,IAA+B,aAC/BvB,EAAAA,EAAAA,IAESwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFctB,EAAAuB,UAARC,K,WAAf3B,EAAAA,EAAAA,IAES,UAFyB4B,IAAKD,EAAKvB,KAAOL,MAAO4B,I,QACrDA,EAAKvB,MAAI,EAAAyB,M,mBAHqD1B,EAAAmB,gBAM1DnB,EAAAK,OAAOc,eAAY,WAA9BtB,EAAAA,EAAAA,IAEM,MAFN8B,GAEMpB,EAAAA,EAAAA,IADDP,EAAAK,OAAOc,cAAY,8BAGxBzB,EAAAA,EAAAA,GAKS,UALDU,GAAG,OAAOH,KAAK,OAAOiB,SAAA,G,qCAAkBlB,EAAA4B,UAAS1B,GAAG2B,UAAW7B,EAAAmB,c,CACrEW,IAA+B,aAC/BjC,EAAAA,EAAAA,IAESwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFctB,EAAA+B,UAARC,K,WAAfnC,EAAAA,EAAAA,IAES,UAFyB4B,IAAKO,EAAKC,SAAWrC,MAAOoC,I,QACzDA,EAAKC,UAAQ,EAAAC,M,mBAH4BlC,EAAA4B,aAMrC5B,EAAAK,OAAOuB,YAAS,WAA3B/B,EAAAA,EAAAA,IAEM,MAFNsC,GAEM5B,EAAAA,EAAAA,IADDP,EAAAK,OAAOuB,WAAS,qBAGrBlC,EAAAA,EAAAA,GAAmD,SAA3C0C,QAAKtB,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAqB,QAAArB,EAAAqB,UAAAtB,IAAQtB,MAAM,MAAMU,KAAK,Y,YAK5C,GACEmC,IAAAA,GACE,MAAO,CACLf,SAAU,GACVQ,SAAU,GACVZ,aAAc,GACdlB,KAAM,GACNS,MAAO,GACPkB,UAAW,GACXvB,OAAQ,CAAC,EAEb,EACAkC,OAAAA,GACEC,KAAKC,OAAOC,IAAI,4CAA4CC,MAAMC,IAChEJ,KAAKK,mBAAmBD,EAAK,SAAS,GAE1C,EAEAE,SAAU,CAAC,EACXC,QAAS,CACP9B,UAAAA,GACEuB,KAAKC,OACFC,IACC,2CAA6CF,KAAKrB,aAAa6B,QAEhEL,MAAMC,IACLJ,KAAKT,SAAWa,EAAIN,IAAI,GAE9B,EACAO,kBAAAA,CAAmBD,EAAKK,GACtBT,KAAKjB,SAAW,GAEhB,MAAM2B,EAAYN,EAAIN,KAGhBa,EAAS,IAAIC,UACbC,EAASF,EAAOG,gBAAgBJ,EAAW,YAG3CK,EAAOF,EAAOG,qBAAsB,GAAEP,SAK5C,IAAK,IAAIQ,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,MAAME,EAAOJ,EAAKE,GAClBG,QAAQC,IAAI,OAAQF,GACpB,MAAMG,EAAOH,EAAKI,cAAe,GAAEd,SAAce,YACjDJ,QAAQC,IAAI,OAAQC,GACpB,MAAM7D,EAAO0D,EAAKI,cAAe,GAAEd,SAAce,YACjDJ,QAAQC,IAAI,OAAQ5D,GACpB,MAAM+C,EAASiB,SACbN,EAAKI,cAAe,GAAEd,WAAgBe,aAExCJ,QAAQC,IAAI,SAAUb,GAEtB,MAAMkB,EAAa,CACjB9D,GAAIqD,EAAI,EACRK,OACA7D,OACA+C,UAIFR,KAAKjB,SAAS4C,KAAKD,EACrB,CACF,EACA7B,MAAAA,GAqBE,GApBAG,KAAKnC,OAAS,CAAC,EAEG,KAAdmC,KAAKvC,KACPuC,KAAKnC,OAAOJ,KAAO,SACTuC,KAAKvC,KAAKmE,MAAM,8BAC1B5B,KAAKnC,OAAOJ,KAAO,eAGF,KAAfuC,KAAK9B,MACP8B,KAAKnC,OAAOK,MAAQ,WACV,WAAW2D,KAAK7B,KAAK9B,SAC/B8B,KAAKnC,OAAOK,MAAQ,eAEjB8B,KAAKrB,eACRqB,KAAKnC,OAAOc,aAAe,SAExBqB,KAAKZ,YACRY,KAAKnC,OAAOuB,UAAY,SAGc,IAApC0C,OAAOC,KAAK/B,KAAKnC,QAAQqD,OAAc,CACzC,IAAIc,EAAgB,CAClBvE,KAAMuC,KAAKvC,KACXS,MAAO8B,KAAK9B,MACZ+D,iBAAkBjC,KAAKrB,aAAa6B,OACpC0B,iBAAkBlC,KAAKrB,aAAalB,KACpC0E,cAAenC,KAAKZ,UAAUgD,WAC9BC,cAAerC,KAAKZ,UAAUK,SAC9B6C,QAAQ,GAEVtC,KAAKC,OACFsC,KAAK,qEAAsEP,GAC3E7B,MAAK,KACJH,KAAKwC,QAAQb,KAAK,CAAElE,KAAM,aAAc,GAE9C,CACF,I,QCrIJ,MAAMgF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://shopping-test/./src/views/DeliverSeven.View.vue","webpack://shopping-test/./src/views/DeliverSeven.View.vue?3c2a"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <label for=\"name\">姓名</label>\n    <input v-model=\"name\" type=\"text\" name=\"name\" id=\"name\" />\n    <div v-if=\"errors.name\" class=\"error-message\">{{ errors.name }}</div>\n    <br />\n\n    <label for=\"phone\">手機號碼</label>\n    <input v-model=\"phone\" type=\"text\" name=\"cellphone\" id=\"phone\" />\n    <div v-if=\"errors.phone\" class=\"error-message\">{{ errors.phone }}</div>\n    <br />\n    <select @change=\"changeArea\" id=\"area\" name=\"area\" required v-model=\"selectedArea\">\n      <option value=\"\">請選擇地區</option>\n      <option v-for=\"area in arealist\" :key=\"area.name\" :value=\"area\">\n        {{ area.name }}\n      </option>\n    </select>\n    <div v-if=\"errors.selectedArea\" class=\"error-message\">\n      {{ errors.selectedArea }}\n    </div>\n\n    <select id=\"shop\" name=\"shop\" required v-model=\"SevenShop\" :disabled=\"!selectedArea\">\n      <option value=\"\">請選擇門市</option>\n      <option v-for=\"shop in shoplist\" :key=\"shop.townname\" :value=\"shop\">\n        {{ shop.townname }}\n      </option>\n    </select>\n    <div v-if=\"errors.SevenShop\" class=\"error-message\">\n      {{ errors.SevenShop }}\n    </div>\n\n    <input @click=\"submit\" class=\"sub\" type=\"submit\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      arealist: [],\n      shoplist: [],\n      selectedArea: \"\",\n      name: \"\",\n      phone: \"\",\n      SevenShop: \"\",\n      errors: {},\n    };\n  },\n  created() {\n    this.$axios.get(\"https://api.nlsc.gov.tw/other/ListCounty\").then((res) => {\n      this.processXmlListInfo(res, \"county\");\n    });\n  },\n\n  computed: {},\n  methods: {\n    changeArea() {\n      this.$axios\n        .get(\n          \"https://api.nlsc.gov.tw/other/ListTown1/\" + this.selectedArea.code01\n        )\n        .then((res) => {\n          this.shoplist = res.data;\n        });\n    },\n    processXmlListInfo(res, target) {\n      this.arealist = [];\n      // 處理 縣市/區 列表資訊\n      const xmlString = res.data;\n\n      //使用JavaScript的内置DOM解析器DOMParser来解析XML字符串\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n\n      //取得 縣市/區 列表 (HTMLCollection 狀態)\n      const list = xmlDoc.getElementsByTagName(`${target}Item`);\n\n      // console.log(\"list\", list);\n\n      // HTMLCollection 狀態 縣市/區 列表轉換成 Array 狀態 縣市/區 列表\n      for (let i = 0; i < list.length; i++) {\n        const item = list[i];\n        console.log(\"item\", item);\n        const code = item.querySelector(`${target}code`).textContent;\n        console.log(\"code\", code);\n        const name = item.querySelector(`${target}name`).textContent;\n        console.log(\"name\", name);\n        const code01 = parseInt(\n          item.querySelector(`${target}code01`).textContent\n        );\n        console.log(\"code01\", code01);\n        // 創建縣市 / 區 資訊物件\n        const itemObject = {\n          id: i + 1,\n          code,\n          name,\n          code01,\n        };\n        // console.log(\"itemObject\", itemObject);\n        // 判斷taget 為 縣市 或 區，再進行對應的 push\n        this.arealist.push(itemObject);\n      }\n    },\n    submit() {\n      this.errors = {};\n\n      if (this.name === \"\") {\n        this.errors.name = \"姓名不能為空\";\n      } else if (!this.name.match(/^[A-Za-z\\u4e00-\\u9fa5]+$/)) {\n        this.errors.name = \"姓名只能包含中英文字符\";\n      }\n\n      if (this.phone === \"\") {\n        this.errors.phone = \"手機號碼不能為空\";\n      } else if (!/^\\d{10}$/.test(this.phone)) {\n        this.errors.phone = \"手機號碼必須是10位數\";\n      }\n      if (!this.selectedArea) {\n        this.errors.selectedArea = \"請選擇地區\";\n      }\n      if (!this.SevenShop) {\n        this.errors.SevenShop = \"請選擇門市\";\n      }\n      // 都沒有錯誤訊息才能跳轉\n      if (Object.keys(this.errors).length === 0) {\n        let MemberProfile = {\n          name: this.name,\n          phone: this.phone,\n          selectedAreaCode: this.selectedArea.code01,\n          selectedAreaName: this.selectedArea.name,\n          SevenShopCode: this.SevenShop.towncode01,\n          SevenShopName: this.SevenShop.townname,\n          status: true,\n        };\n        this.$axios\n          .post(\"https://my-json-server.typicode.com/Wayne-Chou/shopping/sevenDatil\", MemberProfile)\n          .then(() => {\n            this.$router.push({ name: \"OrderView\" });\n          });\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.container {\n  text-align: center;\n}\n\n.error-message {\n  color: red;\n  font-size: 14px;\n  margin-top: 5px;\n}\n</style>","import { render } from \"./DeliverSeven.View.vue?vue&type=template&id=8bc01cee&scoped=true\"\nimport script from \"./DeliverSeven.View.vue?vue&type=script&lang=js\"\nexport * from \"./DeliverSeven.View.vue?vue&type=script&lang=js\"\n\nimport \"./DeliverSeven.View.vue?vue&type=style&index=0&id=8bc01cee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8bc01cee\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","value","_createElementBlock","_hoisted_1","_hoisted_2","$data","name","$event","type","id","errors","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","phone","_hoisted_6","_hoisted_7","onChange","_cache","args","$options","changeArea","required","selectedArea","_hoisted_8","_Fragment","_renderList","arealist","area","key","_hoisted_9","_hoisted_10","SevenShop","disabled","_hoisted_12","shoplist","shop","townname","_hoisted_13","_hoisted_14","onClick","submit","data","created","this","$axios","get","then","res","processXmlListInfo","computed","methods","code01","target","xmlString","parser","DOMParser","xmlDoc","parseFromString","list","getElementsByTagName","i","length","item","console","log","code","querySelector","textContent","parseInt","itemObject","push","match","test","Object","keys","MemberProfile","selectedAreaCode","selectedAreaName","SevenShopCode","towncode01","SevenShopName","status","post","$router","__exports__","render"],"sourceRoot":""}